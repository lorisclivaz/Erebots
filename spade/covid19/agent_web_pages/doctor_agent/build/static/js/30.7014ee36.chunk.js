(this["webpackJsonpcovid19-frontend"]=this["webpackJsonpcovid19-frontend"]||[]).push([[30],{567:function(e,t,n){"use strict";n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return a}));var r="$oid",a="weekday",i="month";function s(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return void 0!==e?t?e.shortDescription:e.longDescription:void 0}},584:function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return s})),n.d(t,"f",(function(){return o})),n.d(t,"h",(function(){return c})),n.d(t,"g",(function(){return l})),n.d(t,"e",(function(){return u})),n.d(t,"c",(function(){return f})),n.d(t,"d",(function(){return d})),n.d(t,"i",(function(){return h}));var r,a=n(196),i=n(567),s="_id",o="text_en",c="text_it",l="text_fr",u="text_de",f="next",d="previous",m=(r={},Object(a.a)(r,s,{keyPrettyNameShort:"ID",keyPrettyNameLong:"Question ID",valuePrettifier:function(e){return e[i.b]}}),Object(a.a)(r,o,{keyPrettyNameShort:"English",keyPrettyNameLong:"English Text",valuePrettifier:function(e){return e}}),Object(a.a)(r,c,{keyPrettyNameShort:"Italian",keyPrettyNameLong:"Italian Text",valuePrettifier:function(e){return e}}),Object(a.a)(r,l,{keyPrettyNameShort:"French",keyPrettyNameLong:"French Text",valuePrettifier:function(e){return e}}),Object(a.a)(r,u,{keyPrettyNameShort:"German",keyPrettyNameLong:"German Text",valuePrettifier:function(e){return e}}),Object(a.a)(r,f,{keyPrettyNameShort:"Next",keyPrettyNameLong:"Next Question",valuePrettifier:function(e){return JSON.stringify(e)}}),Object(a.a)(r,d,{keyPrettyNameShort:"Previous",keyPrettyNameLong:"Previous Question",valuePrettifier:function(e){return JSON.stringify(e)}}),r);function h(e){var t={};return e.forEach((function(e){t[e[s][i.b]]=e[o]})),t}},587:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return s})),n.d(t,"e",(function(){return o})),n.d(t,"g",(function(){return c})),n.d(t,"f",(function(){return l})),n.d(t,"d",(function(){return u})),n.d(t,"c",(function(){return f})),n.d(t,"h",(function(){return m}));var r,a=n(196),i=n(567),s="_id",o="text_en",c="text_it",l="text_fr",u="text_de",f="label",d=(r={},Object(a.a)(r,s,{keyPrettyNameShort:"ID",keyPrettyNameLong:"Exercise ID",valuePrettifier:function(e){return e[i.b]}}),Object(a.a)(r,o,{keyPrettyNameShort:"English",keyPrettyNameLong:"English Description",valuePrettifier:function(e){return e}}),Object(a.a)(r,c,{keyPrettyNameShort:"Italian",keyPrettyNameLong:"Italian Description",valuePrettifier:function(e){return e}}),Object(a.a)(r,l,{keyPrettyNameShort:"French",keyPrettyNameLong:"French Description",valuePrettifier:function(e){return e}}),Object(a.a)(r,u,{keyPrettyNameShort:"German",keyPrettyNameLong:"German Description",valuePrettifier:function(e){return e}}),Object(a.a)(r,f,{keyPrettyNameShort:"Label",keyPrettyNameLong:"Mnemonic Label",valuePrettifier:function(e){return e}}),Object(a.a)(r,"gif_path",{keyPrettyNameShort:"GIF",keyPrettyNameLong:"GIF Image",valuePrettifier:function(e){return e}}),r);function m(e){var t={};return e.forEach((function(e){t[e[s][i.b]]=e[f]||e[o]})),t}},591:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return c}));var r=n(584),a=n(567);function i(e,t){return e.find((function(e){return e[r.b][a.b]===t}))}function s(e,t,n){for(var s=t;void 0!==s[r.c];){n(s=i(e,s[r.c][a.b]))}}function o(e){var t=e.find((function(e){return void 0===e[r.d]})),n=[];return n.push(t),s(e,t,(function(e){return n.push(e)})),n}function c(e,t){var n=0;return s(e,i(e,t),(function(e){return n++})),e.length-n}},601:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"e",(function(){return s})),n.d(t,"d",(function(){return o})),n.d(t,"f",(function(){return l})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return u}));var r=n(1),a=n.n(r),i={AGE_18_24:{longDescription:"Age between 18 and 24 years",shortDescription:"Between 18 and 24"},AGE_25_34:{longDescription:"Age between 25 and 34 years",shortDescription:"Between 25 and 34"},AGE_35_44:{longDescription:"Age between 35 and 44 years",shortDescription:"Between 35 and 44"},AGE_45_54:{longDescription:"Age between 45 and 54 years",shortDescription:"Between 45 and 54"},AGE_55_64:{longDescription:"Age between 55 and 64 years",shortDescription:"Between 55 and 64"},"AGE_65_+":{longDescription:"Age above 65 years",shortDescription:"Above 65 years"}},s={SEX_M:{longDescription:"Male",shortDescription:"Male"},SEX_W:{longDescription:"Female",shortDescription:"Female"}},o={LANGUAGE_ENGLISH:{longDescription:"English",shortDescription:"English",icon:a.a.createElement("i",{className:"flag-icon flag-icon-us"})},LANGUAGE_ITALIAN:{longDescription:"Italian",shortDescription:"Italian",icon:a.a.createElement("i",{className:"flag-icon flag-icon-it"})},LANGUAGE_FRENCH:{longDescription:"French",shortDescription:"French",icon:a.a.createElement("i",{className:"flag-icon flag-icon-fr"})},LANGUAGE_GERMAN:{longDescription:"German",shortDescription:"German",icon:a.a.createElement("i",{className:"flag-icon flag-icon-de"})}},c={0:{longDescription:"Impossible",shortDescription:"Impossible"},1:{longDescription:"Very difficult",shortDescription:"Very difficult"},2:{longDescription:"Difficult",shortDescription:"Difficult"},3:{longDescription:"Slightly difficult",shortDescription:"Slightly difficult"},4:{longDescription:"Easy",shortDescription:"Easy"}},l={PREVIOUS:{longDescription:"Previous",shortDescription:"Previous"},NEXT:{longDescription:"Next",shortDescription:"Next"}},u={FUNNY:{longDescription:"Was funny",shortDescription:"Funny"},INDIFFERENT:{longDescription:"Was indifferent",shortDescription:"Indifferent"},NOT_FUNNY:{longDescription:"Was not funny",shortDescription:"Not funny"}}},602:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return u}));var r,a=n(196),i=n(567),s="_id",o="exercise_list",c="suitable_for_goals",l=(r={},Object(a.a)(r,s,{keyPrettyNameShort:"ID",keyPrettyNameLong:"Exercise Set ID",valuePrettifier:function(e){return e[i.b]}}),Object(a.a)(r,o,{keyPrettyNameShort:"Exercise List",keyPrettyNameLong:"Exercise List",valuePrettifier:function(e){return JSON.stringify(e)}}),Object(a.a)(r,c,{keyPrettyNameShort:"For Goals",keyPrettyNameLong:"Suitable For Goals",valuePrettifier:function(e){return JSON.stringify(e)}}),r);function u(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:", ",r={};return e.forEach((function(e){r[e[s][i.b]]=e[o].map((function(e){return t[e[i.b]]})).join(n)})),r}},615:function(e,t,n){"use strict";n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return u})),n.d(t,"e",(function(){return f})),n.d(t,"d",(function(){return d})),n.d(t,"f",(function(){return m}));var r,a=n(196),i=n(1),s=n.n(i),o=n(567),c=n(601),l="_id",u="suitable_exercise_sets",f="asked_question",d="user_answer",m="question_shift",h=(r={},Object(a.a)(r,l,{keyPrettyNameShort:"ID",keyPrettyNameLong:"Exercise Set Mapping ID",valuePrettifier:function(e){return e[o.b]}}),Object(a.a)(r,f,{keyPrettyNameShort:"Question",keyPrettyNameLong:"Question",valuePrettifier:function(e){return JSON.stringify(e)}}),Object(a.a)(r,d,{keyPrettyNameShort:"Answer",keyPrettyNameLong:"Question answer",rawValuesToDescriptionMap:c.b,valuePrettifier:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Object(o.d)(c.b[e],t)}}),Object(a.a)(r,u,{keyPrettyNameShort:"Exercise Sets",keyPrettyNameLong:"Suitable Exercise Sets",valuePrettifier:function(e){return JSON.stringify(e)}}),Object(a.a)(r,m,{keyPrettyNameShort:"Shift",keyPrettyNameLong:"Question shift",rawValuesToDescriptionMap:c.f,valuePrettifier:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Object(o.d)(c.f[e],t);return void 0===n?s.a.createElement("span",null,s.a.createElement("i",{className:"text-muted icon-ban"})):n}}),r)},875:function(e,t,n){},934:function(e,t,n){"use strict";n.r(t);var r=n(196),a=n(142),i=n(72),s=n(73),o=n(108),c=n(195),l=n(194),u=n(1),f=n.n(u),d=n(570),m=n(571),h=n(568),g=n(572),b=n(575),E=n(619),p=n(616),y=n(617),v=n(618),S=n(569),O=n(605),N=n(611),j=n(612),D=n(593),x=n(580),P=n(197),k=n(567),w=n(109),I=n(53),L=(n(875),n(615)),C=n(584),_=n(587),M=n(602),Q=n(720),F=n(591),A=n(601),V=n(876),G=n.n(V),T="ExerciseSetMapping.js",q=function(e){Object(c.a)(u,e);var t=Object(l.a)(u);function u(e){var n,s;return Object(i.a)(this,u),(s=t.call(this,e)).allExercises="allExercises",s.allQuestions="allQuestions",s.allExerciseSets="allExerciseSets",s.exerciseSetMappingField="exerciseSetMapping",s.fieldNames=[s.exerciseSetMappingField,s.allExercises,s.allQuestions,s.allExerciseSets],s.formID="exercise-set-mapping-form",s.defaultExerciseSetListValue=[],s.defaultQuestionIdValue="",s.defaultQuestionAnswerValue="",s.defaultQuestionShiftValue="-- None --",s.state=Object(a.a)(Object(a.a)({},Object(P.b)(s.fieldNames)),{},(n={objID:""},Object(r.a)(n,L.a,s.defaultExerciseSetListValue),Object(r.a)(n,L.e,s.defaultQuestionIdValue),Object(r.a)(n,L.d,s.defaultQuestionAnswerValue),Object(r.a)(n,L.f,s.defaultQuestionShiftValue),Object(r.a)(n,"uploadingChanges",!1),Object(r.a)(n,"errorMessage",""),Object(r.a)(n,"deletionModalOpen",!1),Object(r.a)(n,"hasExercisesSelected",void 0),n)),s.setCurrentStateFromData.bind(Object(o.a)(s)),s.getCurrentID.bind(Object(o.a)(s)),s.handleSelectedEvent.bind(Object(o.a)(s)),s.setHasExercisesSelected.bind(Object(o.a)(s)),s.sendChangesToServer.bind(Object(o.a)(s)),s.setErrorMessage.bind(Object(o.a)(s)),s.toggleDeletionModal.bind(Object(o.a)(s)),s.deleteCurrentFromServer.bind(Object(o.a)(s)),Object(P.d)(Object(o.a)(s),s.allExercises,x.p,{serverEndPoint:x.g}),Object(P.d)(Object(o.a)(s),s.allExerciseSets,x.p,{serverEndPoint:x.i}),Object(P.d)(Object(o.a)(s),s.allQuestions,x.p,{serverEndPoint:x.j}),s.isHandlingNewObject()||Object(P.d)(Object(o.a)(s),s.exerciseSetMappingField,x.r,{serverEndPoint:x.h,id:s.getCurrentID()},(function(e){return s.setCurrentStateFromData(e)})),s}return Object(s.a)(u,[{key:"setCurrentStateFromData",value:function(e){var t;this.setState((t={objID:e[L.c][k.b]},Object(r.a)(t,L.a,e[L.a].map((function(e){return e[k.b]}))||this.defaultExerciseSetListValue),Object(r.a)(t,L.e,e[L.e][k.b]||this.defaultQuestionIdValue),Object(r.a)(t,L.d,void 0===e[L.d]?this.defaultQuestionAnswerValue:e[L.d]),Object(r.a)(t,L.f,e[L.f]||this.defaultQuestionShiftValue),Object(r.a)(t,"hasExercisesSelected",void 0===e[L.f]),t))}},{key:"getCurrentID",value:function(){return this.props.match.params.id}},{key:"isHandlingNewObject",value:function(){return"new"===this.getCurrentID()}},{key:"handleSelectedEvent",value:function(e,t){var n;Object(I.a)(T,"Changed selection for field ".concat(e,": "),t),n=e===L.a?t.map((function(e){return e.value})):t;var r={};r[e]=n,this.setState(r)}},{key:"setErrorMessage",value:function(e){this.setState({uploadingChanges:!1,errorMessage:e}),window.scrollTo(0,0)}},{key:"setHasExercisesSelected",value:function(e){this.setState({hasExercisesSelected:e})}},{key:"sendChangesToServer",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];Object(I.a)(T,"Called sendChangesToServer with insertNew=".concat(t)),this.setState({uploadingChanges:!0,errorMessage:""});var n=new FormData(document.getElementById(this.formID));if(n.append(L.a,JSON.stringify(this.state[L.a])),n.get(L.e)===this.defaultQuestionIdValue)this.setErrorMessage("Select the question!");else if(n.get(L.d)===this.defaultQuestionAnswerValue)this.setErrorMessage("Select the question answer!");else if(n.get(L.a)===JSON.stringify(this.defaultExerciseSetListValue)&&n.get(L.f)===this.defaultQuestionShiftValue)this.setErrorMessage("Select some exercise sets or the proper question shift!");else{var r;if(t)r=Object(x.v)(x.a,x.h,{formDataObject:n});else{var a=this.getCurrentID();r=Object(x.v)(x.c,x.h,{id:a,formDataObject:n})}r.then((function(t){Object(I.a)(T,"Saved changes to server:",t),e.setCurrentStateFromData(t),e.setState({uploadingChanges:!1}),window.history.back()}),(function(t){Object(I.c)(T,"Error from server saving changes:",t.message),e.setErrorMessage(t.message+" -- Be sure to not have duplicated question and answer")}))}}},{key:"toggleDeletionModal",value:function(){this.setState({deletionModalOpen:!this.state.deletionModalOpen})}},{key:"deleteCurrentFromServer",value:function(){var e=this;Object(x.v)(x.b,x.h,{id:this.getCurrentID()}).then((function(t){Object(I.a)(T,"Deleted from server:",t),e.setState({uploadingChanges:!1}),window.history.back()}),(function(t){Object(I.c)(T,"Error from server during deletion:",t.message),e.setErrorMessage(t.message)})),this.toggleDeletionModal()}},{key:"render",value:function(){var e=this;return f.a.createElement("div",{className:"animated fadeIn"},f.a.createElement(d.a,null,f.a.createElement(m.a,{lg:12},""===this.state.errorMessage?null:Object(P.c)(this.state.errorMessage),f.a.createElement(h.a,null,f.a.createElement(g.a,null,f.a.createElement("strong",null,f.a.createElement("i",{className:"icon-info pr-1"}),this.isHandlingNewObject()?"New Exercise Set Mapping":"Exercise Set Mapping ID: ".concat(this.state.objID)),this.isHandlingNewObject()?null:f.a.createElement(b.a,{color:"danger",onClick:this.toggleDeletionModal.bind(this),className:"mr-1 float-right"},f.a.createElement("i",{className:"fa fa-trash"})," Delete"),f.a.createElement(E.a,{isOpen:this.state.deletionModalOpen,toggle:this.toggleDeletionModal.bind(this),className:"modal-danger"},f.a.createElement(p.a,{toggle:this.toggleDeletionModal.bind(this)},"Delete Exercise Set Mapping"),f.a.createElement(y.a,null,"This will permanently delete the current Exercise Set Mapping from database."),f.a.createElement(v.a,null,f.a.createElement(b.a,{color:"danger",onClick:this.deleteCurrentFromServer.bind(this)},"Delete")," ",f.a.createElement(b.a,{color:"secondary",onClick:this.toggleDeletionModal.bind(this)},"Cancel")))),f.a.createElement(S.a,null,function(){var t=Object(P.f)(e,e.allExercises,(function(t){return Object(P.f)(e,e.allExerciseSets,(function(r){return Object(P.f)(e,e.allQuestions,(function(a){var i=Object(C.i)(a),s=Object(_.h)(t),o=Object(M.e)(r,s," \u25ba ");return f.a.createElement("div",null,f.a.createElement(O.a,{id:e.formID,action:"",method:"post",encType:"multipart/form-data",className:"form-horizontal"},f.a.createElement(N.a,{row:!0},f.a.createElement(m.a,{md:"2"},f.a.createElement(j.a,{htmlFor:"select-question"},"Question")),f.a.createElement(m.a,{xs:"12",md:"10"},f.a.createElement(D.a,{type:"select",name:L.e,id:"select-question",value:e.state[L.e],onChange:function(t){return e.handleSelectedEvent(L.e,t.target.value)}},f.a.createElement("option",{value:e.defaultQuestionIdValue},e.defaultQuestionIdValue),Object(F.b)(a).map((function(e,t){return f.a.createElement("option",{key:e[C.b][k.b],value:e[C.b][k.b]},"Level ",t+1," \u2192 ",e[C.f])}))))),f.a.createElement(N.a,{row:!0},f.a.createElement(m.a,{md:"2"},f.a.createElement(j.a,{htmlFor:"select-answer"},"Question Answer")),f.a.createElement(m.a,{xs:"12",md:"10"},f.a.createElement(D.a,{type:"select",name:L.d,id:"select-answer",value:e.state[L.d],onChange:function(t){return e.handleSelectedEvent(L.d,t.target.value)}},f.a.createElement("option",{value:e.defaultQuestionAnswerValue},e.defaultQuestionAnswerValue),Object.keys(A.b).map((function(e){return f.a.createElement("option",{key:e,value:e},A.b[e].longDescription)}))))),f.a.createElement(N.a,{row:!0},f.a.createElement(m.a,{md:"2"},f.a.createElement(j.a,{htmlFor:"multi-select-exercise-set"},"To suggest Exercise Sets")),f.a.createElement(m.a,{md:"10"},f.a.createElement("div",{id:"multi-select-exercise-set"},f.a.createElement(Q.a,{disabled:!1===e.state.hasExercisesSelected,options:r.map((function(e){var t=e[M.c][k.b];return{label:o[t],value:t}})),hasSelectAll:!1,value:e.state[L.a].map((function(e){return{label:o[e],value:e}})),onChange:function(t){JSON.stringify(t)===JSON.stringify(e.defaultExerciseSetListValue)?e.setHasExercisesSelected(void 0):e.setHasExercisesSelected(!0),e.handleSelectedEvent(L.a,t)},labelledBy:"Select"})),e.state[L.f]!==e.defaultQuestionShiftValue?f.a.createElement(G.a,{placement:"bottom",target:"multi-select-exercise-set"},"To suggest exercise sets, deselect the question shift"):null)),f.a.createElement(N.a,{row:!0},f.a.createElement(m.a,{md:"2"},f.a.createElement(j.a,{htmlFor:"select-question-shift"},"Question Shift")),f.a.createElement(m.a,{xs:"12",md:"10"},f.a.createElement(D.a,{disabled:!0===e.state.hasExercisesSelected,type:"select",name:L.f,id:"select-question-shift",value:e.state[L.f],onChange:function(t){var n=t.target.value;n===e.defaultQuestionShiftValue?e.setHasExercisesSelected(void 0):e.setHasExercisesSelected(!1),e.handleSelectedEvent(L.f,n)}},f.a.createElement("option",{value:e.defaultQuestionShiftValue},e.defaultQuestionShiftValue),Object.keys(A.f).map((function(e){return f.a.createElement("option",{key:e,value:e},A.f[e].longDescription)}))),JSON.stringify(e.state[L.a])!==JSON.stringify(e.defaultExerciseSetListValue)?f.a.createElement(G.a,{placement:"bottom",target:"select-question-shift"},"To make a question shift, deselect suggested exercise sets."):null)),!0!==e.state.hasExercisesSelected&&e.state[L.f]!==e.defaultQuestionShiftValue?f.a.createElement(N.a,{row:!0},f.a.createElement(m.a,{md:"2"},f.a.createElement(j.a,null,"Will shift to")),f.a.createElement(m.a,{xs:"12",md:"10"},f.a.createElement("p",{className:"form-control-static"},function(){if(e.state[L.e]){var t=e.state[L.f],n=a.find((function(t){return t[C.b][k.b]===e.state[L.e]}));return t.toLowerCase()===C.c?n[C.c]?"\n                                                  Level\n                                                  ".concat(Object(F.a)(a,n[C.c][k.b]),"\n                                                  \u2192\n                                                  ").concat(i[n[C.c][k.b]]):"Current main question has no next question, will not shift":n[C.d]?"\n                                                  Level\n                                                  ".concat(Object(F.a)(a,n[C.d][k.b]),"\n                                                  \u2192\n                                                  ").concat(i[n[C.d][k.b]]):"Current main question has no previous question, will not shift"}return"Select a main question"}()))):null),f.a.createElement("div",{className:"form-actions float-right"},f.a.createElement(b.a,{type:"submit",color:"primary",className:"mr-2",onClick:function(){return e.sendChangesToServer(e.isHandlingNewObject())},disabled:e.state.uploadingChanges},e.state.uploadingChanges?f.a.createElement("img",{className:"spinner",alt:"spinner",src:n(456)}):null,e.isHandlingNewObject()?"Insert":"Save changes"),f.a.createElement(w.Link,{to:"/home/modify/exercise_set_mappings"},f.a.createElement(b.a,{color:"secondary",disabled:e.state.uploadingChanges},"Cancel"))))}),Object(P.a)({}))}),Object(P.a)({}))}),Object(P.a)({}));return e.isHandlingNewObject()?t:Object(P.f)(e,e.exerciseSetMappingField,(function(e){return t}),Object(P.a)({}))}())))))}}]),u}(u.Component);t.default=q}}]);
//# sourceMappingURL=30.7014ee36.chunk.js.map