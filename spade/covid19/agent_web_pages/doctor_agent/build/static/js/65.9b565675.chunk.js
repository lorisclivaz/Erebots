(this["webpackJsonpcovid19-frontend"]=this["webpackJsonpcovid19-frontend"]||[]).push([[65],{687:function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return s})),a.d(t,"d",(function(){return c})),a.d(t,"a",(function(){return o}));var n,r=a(196),l=a(567),s="_id",c="name",o="description",i=(n={},Object(r.a)(n,s,{keyPrettyNameShort:"ID",keyPrettyNameLong:"Strategy ID",valuePrettifier:function(e){return e[l.b]}}),Object(r.a)(n,c,{keyPrettyNameShort:"Name",keyPrettyNameLong:"Name",valuePrettifier:function(e){return e}}),Object(r.a)(n,o,{keyPrettyNameShort:"Desc.",keyPrettyNameLong:"Description",valuePrettifier:function(e){return e}}),n)},882:function(e,t,a){},936:function(e,t,a){"use strict";a.r(t);var n=a(196),r=a(142),l=a(72),s=a(73),c=a(108),o=a(195),i=a(194),m=a(1),d=a.n(m),u=a(570),g=a(571),b=a(568),h=a(572),f=a(575),v=a(619),E=a(616),y=a(617),p=a(618),j=a(569),N=a(605),O=a(611),D=a(612),C=a(593),S=a(580),k=a(197),w=a(567),M=a(583),I=a(109),T=a(53),x=(a(882),a(687)),F=(a(597),function(e){Object(o.a)(m,e);var t=Object(i.a)(m);function m(e){var a,s;return Object(l.a)(this,m),(s=t.call(this,e)).strategyDataField="strategyData",s.fieldNames=[s.strategyDataField],s.formID="strategy-form",s.state=Object(r.a)(Object(r.a)({},Object(k.b)(s.fieldNames)),{},(a={objID:""},Object(n.a)(a,x.d,""),Object(n.a)(a,x.a,""),Object(n.a)(a,"uploadingChanges",!1),Object(n.a)(a,"errorMessage",""),Object(n.a)(a,"deletionModalOpen",!1),a)),s.setCurrentStateFromData.bind(Object(c.a)(s)),s.getCurrentID.bind(Object(c.a)(s)),s.handleTextChange.bind(Object(c.a)(s)),s.sendChangesToServer.bind(Object(c.a)(s)),s.setErrorMessage.bind(Object(c.a)(s)),s.toggleDeletionModal.bind(Object(c.a)(s)),s.deleteCurrentFromServer.bind(Object(c.a)(s)),s.isHandlingNewObject()||Object(k.d)(Object(c.a)(s),s.strategyDataField,S.r,{serverEndPoint:S.k,id:s.getCurrentID()},(function(e){return s.setCurrentStateFromData(e)})),s.data2=[12,5,6,6,9,10],s}return Object(s.a)(m,[{key:"setCurrentStateFromData",value:function(e){var t;this.setState((t={objID:e[x.c][w.b]},Object(n.a)(t,x.d,e[x.d]),Object(n.a)(t,x.a,e[x.a]||""),t))}},{key:"getCurrentID",value:function(){return this.props.match.params.id}},{key:"isHandlingNewObject",value:function(){return"new"===this.getCurrentID()}},{key:"handleTextChange",value:function(e,t){var a={};a[e]=t,this.setState(a)}},{key:"setErrorMessage",value:function(e){this.setState({uploadingChanges:!1,errorMessage:e}),window.scrollTo(0,0)}},{key:"sendChangesToServer",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];Object(T.b)("Strategy.js","Called sendChangesToServer with insertNew=".concat(t)),this.setState({uploadingChanges:!0,errorMessage:""});var a=new FormData(document.getElementById(this.formID));if(a.get(x.d)){var n;if(t)n=Object(S.v)(S.a,S.k,{formDataObject:a});else{var r=this.getCurrentID();n=Object(S.v)(S.c,S.k,{id:r,formDataObject:a})}n.then((function(t){Object(T.a)("Strategy.js","Saved changes to server:",t),e.setCurrentStateFromData(t),e.setState({uploadingChanges:!1}),window.history.back()}),(function(t){Object(T.c)("Strategy.js","Error from server saving changes:",t.message),e.setErrorMessage(t.message)}))}else this.setErrorMessage("A name for the strategy is mandatory!")}},{key:"toggleDeletionModal",value:function(){this.setState({deletionModalOpen:!this.state.deletionModalOpen})}},{key:"deleteCurrentFromServer",value:function(){var e=this;Object(S.v)(S.b,S.k,{id:this.getCurrentID()}).then((function(t){Object(T.a)("Strategy.js","Deleted from server:",t),e.setState({uploadingChanges:!1}),window.history.back()}),(function(t){Object(T.c)("Strategy.js","Error from server during deletion:",t.message),e.setErrorMessage(t.message)})),this.toggleDeletionModal()}},{key:"render",value:function(){var e=this;return d.a.createElement("div",{className:"animated fadeIn"},d.a.createElement(u.a,null,d.a.createElement(g.a,{lg:12},""===this.state.errorMessage?null:Object(k.c)(this.state.errorMessage),d.a.createElement(b.a,null,d.a.createElement(h.a,null,d.a.createElement("strong",null,d.a.createElement("i",{className:"icon-info pr-1"}),this.isHandlingNewObject()?"New Strategy":"Strategy ID: ".concat(this.state.objID)),this.isHandlingNewObject()?null:d.a.createElement(f.a,{color:"danger",onClick:this.toggleDeletionModal.bind(this),className:"mr-1 float-right"},d.a.createElement("i",{className:"fa fa-trash"})," Delete"),d.a.createElement(v.a,{isOpen:this.state.deletionModalOpen,toggle:this.toggleDeletionModal.bind(this),className:"modal-danger"},d.a.createElement(E.a,{toggle:this.toggleDeletionModal.bind(this)},"Delete Strategy"),d.a.createElement(y.a,null,"This will permanently delete the current Strategy from database.",d.a.createElement("br",null),d.a.createElement("br",null),"References to this Strategy will be removed from every data structure in which it is. This means that every Exercise Set Mapping of this question will be also deleted and all users at this question level will not have a level anymore. Consider modifying questions instead of deleting and inserting them again."),d.a.createElement(p.a,null,d.a.createElement(f.a,{color:"danger",onClick:this.deleteCurrentFromServer.bind(this)},"Delete")," ",d.a.createElement(f.a,{color:"secondary",onClick:this.toggleDeletionModal.bind(this)},"Cancel")))),d.a.createElement(j.a,null,function(){var t=d.a.createElement("div",null,d.a.createElement(N.a,{id:e.formID,action:"",method:"post",encType:"multipart/form-data",className:"form-horizontal"},[x.d,x.a].map((function(t){var a=Object(M.a)(t,x.b);return d.a.createElement(O.a,{row:!0,key:t},d.a.createElement(g.a,{md:"2"},d.a.createElement(D.a,{htmlFor:"textarea-input-".concat(t)},a.keyPrettyNameLong)),d.a.createElement(g.a,{xs:"12",md:"10"},d.a.createElement(C.a,{type:"textarea",rows:"2",name:t,id:"textarea-input-".concat(t),placeholder:"".concat(a.keyPrettyNameLong," ..."),value:e.state[t],onChange:function(a){return e.handleTextChange(t,a.target.value)}})))})),d.a.createElement("hr",null),d.a.createElement("div",{className:"container-fluid"},d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"col-8 border-right"},"Graph..."),d.a.createElement("div",{className:"col-4 border"},d.a.createElement("div",{className:"row m-2 mr-0"},d.a.createElement("div",{className:"col-md-10"},d.a.createElement("h2",null,"Start")),d.a.createElement("div",{className:"col-2 p-0"},d.a.createElement("div",{className:"float-right"},d.a.createElement(f.a,{color:"primary",className:"btn btn-default btn-circle btn-xl mr-1"},d.a.createElement("i",{className:"fa fa-save icons font-1xl d-block"})),d.a.createElement(f.a,{color:"success",className:"btn btn-default btn-circle btn-xl mr-1"},d.a.createElement("i",{className:"fa fa-plus icons font-1xl d-block"})),d.a.createElement(f.a,{color:"danger",className:"btn btn-default btn-circle btn-xl"},d.a.createElement("i",{className:"fa fa-trash icons font-1xl d-block"}))))),d.a.createElement("hr",null),d.a.createElement("div",{className:"row m-2 mt-3"},d.a.createElement("div",{className:"col-12"},d.a.createElement("div",{className:"form-group row"},d.a.createElement("h4",{className:"col-3"},"Action"),d.a.createElement("select",{className:"col-9","aria-label":"Action selection",defaultValue:"0"},d.a.createElement("option",{value:"0"},"Select Action Type"),d.a.createElement("option",{value:"1"},"1"),d.a.createElement("option",{value:"2"},"2"),d.a.createElement("option",{value:"3"},"3"))))),d.a.createElement("hr",null),d.a.createElement("div",{className:"row m-2 mt-3"},d.a.createElement("div",{className:"col-12"},d.a.createElement("div",{className:"form-group row"},d.a.createElement("h4",{className:"col-3"},"Transition"),d.a.createElement("select",{className:"col-9","aria-label":"Action selection",defaultValue:"0"},d.a.createElement("option",{value:"0"},"Select Transition Type"),d.a.createElement("option",{value:"1"},"1"),d.a.createElement("option",{value:"2"},"2"),d.a.createElement("option",{value:"3"},"3"))))))))),d.a.createElement("hr",null),d.a.createElement("div",{className:"form-actions float-right"},d.a.createElement(f.a,{type:"submit",color:"primary",className:"mr-2",onClick:function(){return e.sendChangesToServer(e.isHandlingNewObject())},disabled:e.state.uploadingChanges},e.state.uploadingChanges?d.a.createElement("img",{className:"spinner",alt:"spinner",src:a(456)}):null,e.isHandlingNewObject()?"Insert":"Save changes"),d.a.createElement(I.Link,{to:"/home/modify/strategies"},d.a.createElement(f.a,{color:"secondary",disabled:e.state.uploadingChanges},"Cancel"))));return e.isHandlingNewObject()?t:Object(k.f)(e,e.strategyDataField,(function(e){return t}),Object(k.a)({}))}())))))}}]),m}(m.Component));t.default=F}}]);
//# sourceMappingURL=65.9b565675.chunk.js.map